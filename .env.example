# ============================================
# WhatsApp Multi-Business Webhook Configuration
# ============================================

# ============================================
# MongoDB Atlas Connection (REQUIRED)
# ============================================
# Get this from MongoDB Atlas:
# 1. Go to https://cloud.mongodb.com
# 2. Create a FREE M0 cluster
# 3. Database Access → Add user → Set username/password
# 4. Network Access → Add IP → Allow access from anywhere (0.0.0.0/0)
# 5. Connect → Connect your application → Copy connection string
# 
# Format: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority
# 
# Example:
# MONGODB_URI=mongodb+srv://webhook_user:MyPassword123@cluster0.abc123.mongodb.net/whatsapp-marketing?retryWrites=true&w=majority

MONGODB_URI=mongodb+srv://YOUR_USERNAME:YOUR_PASSWORD@YOUR_CLUSTER.mongodb.net/whatsapp-marketing?retryWrites=true&w=majority

# ============================================
# Multi-Business Support (Automatic)
# ============================================
# ✅ This webhook automatically supports MULTIPLE businesses!
# 
# How it works:
# - Each business has a unique verify token stored in the database
# - Webhook verification checks the database for matching tokens
# - Messages are routed to the correct business by phone_number_id
# - No manual configuration needed here!
# 
# Setup for each business:
# 1. Add business to database with unique whatsappConfig.verifyToken
# 2. Configure Meta Webhook URL: https://your-webhook-url.com/webhook
# 3. Use the business's unique verify token from the database
# 4. Webhook automatically routes all events to the correct business

# ============================================
# Backend Server (Optional)
# ============================================
# URL of your main backend server for real-time Socket.io notifications
# Leave empty if not using real-time notifications
BACKEND_URL=

# ============================================
# Server Configuration
# ============================================
# Render.com will set this automatically - no need to change
PORT=3000

# Node Environment
NODE_ENV=production
